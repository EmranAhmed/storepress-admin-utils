(()=>{"use strict";var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{const e=window.StorePress.Utils;function o(t){const e=()=>{this.$element.style.removeProperty("--_tooltip-position"),this.$element.classList.remove("storepress-tooltip-position-top","storepress-tooltip-position-bottom");const t=this.$element.getBoundingClientRect(),e=window.getComputedStyle(this.$element),o=window.getComputedStyle(this.$element,"before"),n=parseInt(o.getPropertyValue("width"),10),s=parseInt(o.getPropertyValue("height"),10),i=parseInt(e.getPropertyValue("--tooltip-angle"),10),r=parseInt(e.getPropertyValue("--tooltip-edge"),10),l=s+i+r+parseInt(e.getPropertyValue("--tooltip-offset"),10)+parseInt(e.getPropertyValue("--tooltip-padding"),10);this.$element.classList.toggle("storepress-tooltip-position-bottom",t.top<l),this.$element.classList.toggle("storepress-tooltip-position-top",t.top>l);const p=n/2,d=t.left+t.width/2,a=p-d,c=p>d,m=p+d,h=document.body.clientWidth<m,u=document.body.clientWidth-m;c&&this.$element.style.setProperty("--_tooltip-position",`${a+r}px`),h&&this.$element.style.setProperty("--_tooltip-position",u-r+"px")},o=()=>{this.$element.addEventListener("focusin",e),this.$element.addEventListener("pointerenter",e)},n=()=>{this.$element.style.removeProperty("--_tooltip-position"),this.$element.classList.remove("storepress-tooltip-position-top","storepress-tooltip-position-bottom"),this.$element.removeEventListener("focusin",e),this.$element.removeEventListener("pointerenter",e)},s=()=>{n()};return(()=>(this.$element=t,o(),{unregister:s}))()}function n(){const t={getInstance:t=>(0,e.createPluginInstance)(t,!1,o),initWith(t="[data-storepress-tooltip]"){for(const{element:e,unregister:o}of this.getInstance(t))e.addEventListener("destroy",o)},init(){for(const{element:t,unregister:e}of this.getInstance("[data-storepress-tooltip]"))t.addEventListener("destroy",e)},destroy(){for(const{destroy:t}of this.getInstance("[data-storepress-tooltip]"))t()},destroyWith(t="[data-storepress-tooltip]"){for(const{destroy:e}of this.getInstance(t))e()}};document.addEventListener("storepress_tooltip_init",(()=>{t.init()})),document.addEventListener("storepress_tooltip_destroy",(()=>{t.destroy()})),document.addEventListener("storepress_tooltip_init_with",(e=>{const o=e.detail?.element;t.initWith(o)})),document.addEventListener("storepress_tooltip_destroy_with",(e=>{const o=e.detail?.element;t.destroyWith(o)}))}document.addEventListener("DOMContentLoaded",(()=>{n(),(0,e.triggerEvent)(document,"storepress_tooltip_init")}));const s=n,i=window.wp.domReady;var r=t.n(i);const l={init(){this.promptBeforeExit(),this.initTooltip()},handleBeforeTabSwitch:t=>(t.preventDefault(),StorePressAdminUtilsSettingsParams.unsaved_warning_text),promptBeforeExit(){let t=!1;document.querySelectorAll('input:not(.ignore-change):not([type="hidden"]):not([type="submit"]), select:not(.ignore-change), textarea:not(.ignore-change)').forEach((e=>{e.addEventListener("input",(()=>{t||(t=!0,window.addEventListener("beforeunload",this.handleBeforeTabSwitch))}))})),document.querySelectorAll('input[type="submit"], .storepress-settings-reset-action-link').forEach((t=>{t.addEventListener("click",(t=>{if(window.removeEventListener("beforeunload",this.handleBeforeTabSwitch),t.target.classList.contains("storepress-settings-reset-action-link")&&!window.confirm(StorePressAdminUtilsSettingsParams.reset_warning_text))return t.preventDefault(),!1}))}))},initTooltip(){s()}};r()((function(){l.init()}))})()})();